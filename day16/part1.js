(A=[],s=[...(s=BigInt('0x'+$('pre').innerText).toString(2)).padStart(Math.ceil(s.length/4)*4,'0')],d=(i,r=2)=>parseInt(i,r),t=i=>s.splice(0,i).join(''),L=_=>(l=+t(1),r=t(4)+(l?L(s):'')),n=(R,P)=>(P=p(),s.length>R?[P,...n(R)]:[P]),O=T=>({T,c:+t(1)?(Array(d(t(11))).fill(0).map(_=>p())):(l=d(t(15)),n(s.length-l))}),p=(V,T)=>(V=d(t(3)),T=d(t(3)),v=T==4?d(L()):O(T),A.push(V),{V,T,v}),p(),A.reduce((a,b)=>a+b))
