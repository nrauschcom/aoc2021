(s=(s,c)=>s.split(c),i=s(document.body.innerText,'\n\n'),n=s(i[1],'\n').map(r=>r.match(/(x?)=(\d+)$/)),X=n.find(o=>o[1])[2]*2+1,Y=n.find(o=>!o[1])[2]*2+1,t=(a)=>a[0].map((_,c)=>a.map(r=>r[c])),m=s(i[0],'\n').reduce((a,c)=>(p=s(c,','),a[+p[1]][+p[0]]=1,a),Array(Y).fill(null).map(_=>Array(X).fill(0))),console.log(n.reduce((m,o)=>(!o?m:(o[1]||(m=t(m)),m=m.map(r=>r.slice(0,+o[2]).map((v,i)=>v||r[r.length-i-1])),o[1]?m:t(m))),m).map(r=>r.map(c=>c?'#':' ').join('')).join('\n')))
